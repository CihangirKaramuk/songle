<!DOCTYPE html>
<html lang="tr">
  <head>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8069472882262766"
      crossorigin="anonymous"
    ></script>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Songle</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Google Tag Manager -->
    <script>
      ;(function (w, d, s, l, i) {
        w[l] = w[l] || []
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' })
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : ''
        j.async = true
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl
        f.parentNode.insertBefore(j, f)
      })(window, document, 'script', 'dataLayer', 'GTM-5C7V8H69')
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-5C7V8H69"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <button class="geri-btn" id="geriBtn" style="display: none">
      ← Geri Dön
    </button>

    <div class="container">
      <h1 class="logo">SONGLE</h1>
      <p class="slogan">Şarkıyı tahmin et. Atmosferi hisset.</p>

      <button class="start-btn">Oynamaya Başla</button>

      <div class="custom-dropdown">
        <div class="dropdown-selected">Kategori Seç</div>
        <div class="dropdown-options">
          <div class="option" data-value="turkce">Türkçe</div>
          <div class="option" data-value="yabanci">Yabancı</div>
          <div class="option" data-value="dizi">Dizi</div>
          <div class="option" data-value="film">Film</div>
        </div>
      </div>
      <div
        class="dizi-alt-kategoriler"
        id="diziAltKategoriler"
        style="display: none"
      >
        <!-- Dizi alt kategorileri dinamik olarak buraya eklenecek -->
      </div>
      <div
        class="film-alt-kategoriler"
        id="filmAltKategoriler"
        style="display: none"
      >
        <!-- Film alt kategorileri dinamik olarak buraya eklenecek -->
      </div>
      <div
        class="alt-kategoriler"
        id="turkceAltKategoriler"
        style="display: none"
      >
        <!-- Türkçe alt kategorileri dinamik olarak buraya eklenecek -->
      </div>
      <div
        class="alt-kategoriler"
        id="yabanciAltKategoriler"
        style="display: none"
      >
        <!-- Yabancı alt kategorileri dinamik olarak buraya eklenecek -->
      </div>

      <p class="alt-yazi">
        Her gün yeni şarkılar. Tahmin et, puan topla, zirveye oyna!
      </p>
    </div>

    <div class="game-screen" style="display: none">
      <h2 class="oyun-baslik">
        🎵 Kategori: <span id="secili-kategori">-</span>
      </h2>

      <!-- Soru sayısı göstergesi -->
      <div class="soru-sayisi-container">
        <div class="soru-sayisi-text" id="progress-gosterge">0/20</div>
      </div>

      <div id="zamanGoster" class="zaman-sayaci">⏱️ Kalan Süre: 30</div>

      <!-- Albüm kapağı görüntüsü -->
      <div class="album-cover-wrapper" style="display: none">
        <img
          id="album-cover"
          class="album-cover"
          src=""
          alt="Albüm Kapağı"
          draggable="false"
        />
      </div>

      <div class="sarki-kutusu-wrapper">
        <div class="sarki-kutusu"></div>
      </div>

      <!-- Süre doldu bildirimi -->
      <div id="time-up" class="time-up">
        Süre doldu! Yeni soruya geçiliyor...
      </div>

      <div id="song-bar" class="neumorphic-bar">
        <span class="music-icon" id="musicNote">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none">
            <g>
              <ellipse cx="19" cy="42" rx="8" ry="6" fill="#fff" />
              <ellipse cx="38" cy="33" rx="6" ry="4.5" fill="#fff" />
              <rect x="24" y="17" width="4" height="25" rx="1.7" fill="#fff" />
              <rect x="41" y="17" width="3" height="16" rx="1.1" fill="#fff" />
              <rect
                x="27"
                y="20"
                width="16"
                height="3.5"
                rx="1.7"
                fill="#fff"
                transform="rotate(-15 27 20)"
              />
            </g>
          </svg>
        </span>
        <div class="progress-container">
          <div class="progress-bar-bg">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-glow" id="progressGlow"></div>
          </div>
        </div>
        <button class="replay-btn" id="replayBtn" aria-label="Tekrar Çal">
          <svg width="34" height="34" viewBox="0 0 34 34" fill="none">
            <path
              d="M7 17c0-5.5 4.5-10 10-10 2.4 0 4.6 0.9 6.3 2.4"
              stroke="#fff"
              stroke-width="2"
              fill="none"
            />
            <polygon points="22,6 27,8 24,12" fill="#fff" />
            <path
              d="M27 17c0 5.5-4.5 10-10 10-2.4 0-4.6-0.9-6.3-2.4"
              stroke="#fff"
              stroke-width="2"
              fill="none"
            />
            <polygon points="12,28 7,26 10,22" fill="#fff" />
          </svg>
        </button>

        <div class="volume-control">
          <button class="volume-btn" id="volumeBtn" aria-label="Ses">
            <svg width="32" height="32" viewBox="0 0 28 28" fill="none">
              <path d="M4 10v8h6l6 5V3l-6 5H4z" fill="#fff" />
              <path
                d="M20 9a5 5 0 0 1 0 10"
                stroke="#fff"
                stroke-width="2"
                fill="none"
              />
            </svg>
          </button>
          <div class="volume-slider-container">
            <input
              type="range"
              min="0"
              max="1"
              step="0.01"
              value="1"
              class="volume-slider"
              id="volumeSlider"
              orient="vertical"
            />
          </div>
        </div>
      </div>

      <audio id="audio-player"></audio>

      <div class="tahmin-container">
        <button class="pas-btn" id="pasBtn">Pas</button>
        <input
          type="text"
          placeholder="Tahminini yaz..."
          class="tahmin-input"
        />
        <button class="tahmin-gonder">Tahmin Et</button>
      </div>
    </div>

    <!-- Şarkı bulunamadı bildirimi -->
    <div id="no-songs" class="no-songs">Bu kategoride henüz şarkı yok!</div>
    <!-- Genel oyun uyarı bildirimi -->
    <div id="alert-box" class="alert-box"></div>

    <!-- Sonuç ekranı -->
    <div id="sonuc-ekrani" class="sonuc-ekrani" style="display: none">
      <div class="sonuc-content">
        <h2 class="sonuc-baslik">🎉 Oyun Tamamlandı! 🎉</h2>
        <div class="sonuc-puan">
          <span class="puan-label">Toplam Puan:</span>
          <span class="puan-deger-sonuc" id="toplam-puan">0</span>
        </div>
        <div class="sonuc-bilgi">
          <p>
            20 sorudan <span id="dogru-soru-sayisi">0</span> tanesini doğru
            bildin!
          </p>
          <p>Tebrikler! 🎵</p>
        </div>

        <!-- Detaylı sonuç bilgileri -->
        <div class="sonuc-detay">
          <div class="detay-baslik">📊 Detaylı Sonuçlar</div>
          <div class="detay-icerik">
            <div class="dogru-sorular">
              <h4>✅ Doğru Bildiklerin (<span id="dogru-sayi">0</span>)</h4>
              <div id="dogru-liste" class="soru-liste"></div>
            </div>
            <div class="yanlis-sorular">
              <h4>⏱️ Süre Dolanlar (<span id="sure-dolan-sayi">0</span>)</h4>
              <div id="sure-dolan-liste" class="soru-liste"></div>
            </div>
            <div class="pas-gecilen-sorular">
              <h4>🟠 Pas Geçilenler (<span id="pas-gecilen-sayi">0</span>)</h4>
              <div id="pas-gecilen-liste" class="soru-liste"></div>
            </div>
          </div>
        </div>
        <button class="tekrar-oyna-btn" onclick="tekrarOyna()">
          Tekrar Oyna
        </button>
        <button class="ana-menu-btn" onclick="anaMenuyeDon()">Ana Menü</button>
      </div>
    </div>

    <!-- Puan göstergesi -->
    <div id="puanGoster" class="puan-goster" style="display: none">
      <span class="puan-deger">0</span>
      <span class="puan-birim">🏆 puan</span>
    </div>

    <script type="module" src="script.js"></script>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"
    ></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2128Z22JXP"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      gtag('js', new Date())

      gtag('config', 'G-2128Z22JXP')
    </script>
  </body>
</html>
